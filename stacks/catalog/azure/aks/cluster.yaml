components:
  terraform:
    azure/aks:
      vars:
        rg_name: "rg-{{ var.namespace }}-{{ var.stage }}"
        location: "{{ var.azure.location }}"
        cluster_name: "aks-{{ var.namespace }}-{{ var.stage }}"
        kubernetes_version: "{{ var.k8s.cluster_version }}"
        node_vm_size: "{{ var.k8s.node_size }}"
        node_count: "{{ var.k8s.node_count }}"
        # o módulo espera aks_subnet_id; pegue-o do output do 'network' via Atmos var, se estiver usando depends_on;
        # nesta versão simples, você passará manualmente via stack quando precisar.
